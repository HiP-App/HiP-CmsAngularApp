<hip-topic-title [title]="title"></hip-topic-title>
<md-card class="default-card">
  <md-card-title>
    <div class="title-wrapper">
      <div class="title"><h2>{{topic.title}}</h2></div>
      <div class="status"><span *ngIf="showStatustoStudents">Status: {{ topic.status | translate}}</span>
        <span *ngIf="!showStatustoStudents">
    <md-radio-group class="radio-text" [(ngModel)]="topic.status" #status="ngModel" [disabled]=" showStatustoStudents "
                    ngDefaultControl>
      <md-radio-button value="InProgress">{{'in progress' | translate}}</md-radio-button>
      <md-radio-button value="InReview">{{'in review' | translate}}</md-radio-button>
      <md-radio-button value="Done">{{'done' | translate}}</md-radio-button>
    </md-radio-group>
    </span>
        <span>
           <md-icon class="save" (click)="saveStatus()" *ngIf="!showStatustoStudents">save</md-icon>
        </span>
      </div>
    </div>
  </md-card-title>
  <md-card-content>
    <div class="parent-topics" *ngIf="topic.hasParentTopics()">
      {{ 'parent topics' | translate }}:
      <ul>
        <li *ngFor="let parentTopic of topic.parentTopics">
          <a [routerLink]="['/topics', parentTopic.id]">{{parentTopic.title}}</a>
        </li>
      </ul>
    </div>
    <div class="details-wrapper">
      <div class="user-list">{{ 'assigned students' | translate }}:
        <span class="user" *ngFor="let user of topic.students">
        {{user.email}}
      </span>
      </div>
      <div class="user-list">{{ 'assigned supervisors' | translate }}:
        <span class="user" *ngFor="let user of topic.supervisors">
        {{user.email}}
      </span>
      </div>
      <div class="user-list">{{ 'assigned reviewers' | translate }}:
        <span class="user" *ngFor="let user of topic.reviewers">
        {{user.email}}
      </span>
      </div>
    </div>
    <div class="requirements">
      {{ 'requirements' | translate}}:
      <span>{{topic.requirements}}</span>
    </div>
    <div class="description">
      {{ 'description' | translate}}:
      <p>{{topic.description}}</p>
    </div>
    <div class="edit">
      <button *ngIf="userCanEditDetails" md-raised-button color="primary" [routerLink]="[ '/topics/edit', topic.id ]">
        {{ "edit details" | translate }}
      </button>
      <button *ngIf="statusChange" md-raised-button color="primary" (click)="getStatusChange()">{{ 'edit content' |
        translate }}
      </button>
      <button *ngIf="userCanDelete" md-raised-button color="warn" [routerLink]="[ '/topics/delete', topic.id ]">{{
        'delete topic' | translate }}
      </button>
      <!--<button md-raised-button color="primary" class="save" (click)="saveStatus()" *ngIf="!showStatustoStudents">{{'save
        status' | translate}}
        <md-icon>save</md-icon>
      </button>-->
    </div>
    <div>&nbsp;</div>
  </md-card-content>
</md-card>
<md-card class="default-card">
  <md-card-title class="subtopic-title">
    <div class="title-wrapper">
      {{ 'subtopics' | translate }}
    </div>
    <button md-fab class="add-topic">
      <md-icon class="md-fab add-icon">add</md-icon>
    </button>
  </md-card-title>
  <md-card-content>
    <div *ngIf="!topic.hasSubtopics()" class="no-subtopics">
      {{ 'no subtopic' | translate }}
    </div>
    <hip-topic-list [topics]="topic.subTopics" *ngIf="topic.hasSubtopics()"></hip-topic-list>
  </md-card-content>
</md-card>