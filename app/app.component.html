<md-toolbar color="primary">
  <div class="margin-right" *ngIf="!loggedIn"></div>
  <button md-button #mybutton (click)="start.toggle()" *ngIf="(!sidenavOpened && loggedIn)" [disableRipple]="true">
    <md-icon class="menu-button">menu</md-icon>
  </button>
  <a [routerLink]="['/']" class="logo"><span>  </span></a>
  <span class="fill-remaining-space"></span>
  <span class="toolbar-element clickable" (click)="selectLang()">
    <div class="world-icon">
      <md-icon>language</md-icon>
    </div>
    <div class="lang-list">
       <span class="lang" *ngFor="let lang of supportedLangs"
             [ngClass]="{langActive: isCurrentLang(lang.value)}">
            {{ lang.display }}
        </span>
    </div>
  </span>
  <div class="dropdown toolbar-element notification" *ngIf="loggedIn">
    <a [routerLink]="['/notifications/']">
      <span>{{numberOfUnreadNotifications}}</span>
      <md-icon>chat_bubble_outline</md-icon>
    </a>
  </div>
  <div class="dropdown toolbar-element" *ngIf="loggedIn">
    <a class="dropdown-toggle" type="button" id="dropdownProfile"
       data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
      <!-- No picture ?
      <div class="row-picture">
        <img class="circle" src="http://lorempixel.com/56/56/people/1" alt="icon"/>
      </div>
      -->
      <span class="profile-name">{{currentUser.email}}</span>
      <md-icon>arrow_drop_down</md-icon>
    </a>
    <ul class="dropdown-menu" aria-labelledby="dropdownProfile">
      <li><a [routerLink]="['/notifications']">
        <h2>
          <md-icon>message</md-icon>
          {{'my notifications' | translate}}
        </h2>
      </a></li>
      <li><a [routerLink]="['/my-topics']">
        <h2>
          <md-icon>library_books</md-icon>
          {{'my topics' | translate}}
        </h2>
      </a></li>
      <li><a [routerLink]="['/manage-profile']">
        <h2>
          <md-icon>person</md-icon>
          {{'my profile' | translate}}
        </h2>
      </a></li>
      <li><a (click)="logout()">
        <h2>
          <md-icon>logout</md-icon>
          {{'logout' | translate}}
        </h2>
      </a></li>
    </ul>
  </div>
</md-toolbar>

<md-sidenav-layout flex>
  <md-sidenav #start [mode]="mode" [opened]="opened">
    <md-nav-list>
      <md-list-item *ngFor="let element of navigation">
        <h2 md-line>
          <a [routerLink]="[ element.link ]"
             (click)="start.toggle()" *ngIf="!opened">{{element.name | lowercase | translate}}</a>
          <a [routerLink]="[ element.link ]"
             *ngIf="opened">{{element.name | lowercase | translate}}</a>
        </h2>
      </md-list-item>
    </md-nav-list>
    <br>
  </md-sidenav>
  <div class="wrapper">
    <toaster-container></toaster-container>
    <router-outlet></router-outlet>
    <div class="push"></div>
  </div>

  <footer>
    <div class="legal">
      <a [routerLink]="[ '/contact' ]">{{ 'contact' | translate }}</a>
      | <a [routerLink]="[ '/help' ]">{{ 'help' | translate }}</a>
      | <a [routerLink]="[ '/legal-notice' ]">{{ 'legal notice' | translate }}</a>
      <br/><span>{{hipCopyright}}</span>
    </div>
  </footer>

</md-sidenav-layout>
